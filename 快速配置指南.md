# âš¡ å¿«é€Ÿé…ç½®æŒ‡å—

## ğŸ¯ 5åˆ†é’Ÿå¿«é€Ÿé…ç½®

### æ­¥éª¤1: åˆ›å»º .env æ–‡ä»¶

```bash
cd backend
cp env-template.txt .env
```

### æ­¥éª¤2: ç¼–è¾‘ .env æ–‡ä»¶

```bash
nano .env
```

**æœ€å°é…ç½®ï¼ˆæœ¬åœ°æµ‹è¯•ï¼‰ï¼š**
```env
MONGODB_URI=mongodb://localhost:27017/globepick
JWT_SECRET=your-secret-key-change-this
PORT=3000
CORS_ORIGIN=*
NODE_ENV=production
```

**ç”Ÿäº§ç¯å¢ƒé…ç½®ï¼ˆMongoDB Atlasï¼‰ï¼š**
```env
MONGODB_URI=mongodb+srv://username:password@cluster.mongodb.net/globepick
JWT_SECRET=your-strong-secret-key-here
PORT=3000
CORS_ORIGIN=https://yourdomain.com
API_DOMAIN=https://api.yourdomain.com
NODE_ENV=production
```

### æ­¥éª¤3: ç”Ÿæˆ JWT å¯†é’¥

```bash
openssl rand -base64 32
```

å°†ç”Ÿæˆçš„å¯†é’¥å¤åˆ¶åˆ° `.env` æ–‡ä»¶çš„ `JWT_SECRET`ã€‚

### æ­¥éª¤4: æµ‹è¯•é…ç½®

```bash
node check-env-config.js
```

### æ­¥éª¤5: å¯åŠ¨æœåŠ¡å™¨

```bash
# æ–¹å¼1: ä½¿ç”¨éƒ¨ç½²è„šæœ¬
./deploy.sh

# æ–¹å¼2: ä½¿ç”¨ PM2ï¼ˆæ¨èï¼‰
npm install -g pm2
pm2 start server.js --name globepick-backend
pm2 save

# æ–¹å¼3: ç›´æ¥å¯åŠ¨
npm start
```

---

## ğŸ“ è¯¦ç»†é…ç½®è¯´æ˜

### MongoDB é…ç½®

#### é€‰é¡¹1: æœ¬åœ° MongoDB

```env
MONGODB_URI=mongodb://localhost:27017/globepick
```

#### é€‰é¡¹2: MongoDB Atlasï¼ˆæ¨èï¼‰

1. è®¿é—® https://www.mongodb.com/cloud/atlas
2. æ³¨å†Œå¹¶åˆ›å»ºå…è´¹é›†ç¾¤
3. åˆ›å»ºæ•°æ®åº“ç”¨æˆ·
4. è·å–è¿æ¥å­—ç¬¦ä¸²
5. å¡«å…¥ `.env` æ–‡ä»¶

```env
MONGODB_URI=mongodb+srv://username:password@cluster.mongodb.net/globepick
```

### JWT å¯†é’¥

**ç”Ÿæˆæ–¹å¼ï¼š**
```bash
openssl rand -base64 32
```

**è¦æ±‚ï¼š**
- è‡³å°‘ 32 ä¸ªå­—ç¬¦
- åŒ…å«å­—æ¯ã€æ•°å­—ã€ç‰¹æ®Šå­—ç¬¦
- ä¸è¦ä½¿ç”¨é»˜è®¤å€¼

### CORS é…ç½®

**å¼€å‘ç¯å¢ƒï¼š**
```env
CORS_ORIGIN=*
```

**ç”Ÿäº§ç¯å¢ƒï¼ˆæ¨èï¼‰ï¼š**
```env
CORS_ORIGIN=https://yourdomain.com,https://www.yourdomain.com
```

---

## âœ… éªŒè¯æ¸…å•

- [ ] .env æ–‡ä»¶å·²åˆ›å»º
- [ ] MONGODB_URI å·²é…ç½®
- [ ] JWT_SECRET å·²æ›´æ”¹ï¼ˆä¸æ˜¯é»˜è®¤å€¼ï¼‰
- [ ] é…ç½®æµ‹è¯•é€šè¿‡ï¼ˆnode check-env-config.jsï¼‰
- [ ] æœåŠ¡å™¨å·²å¯åŠ¨
- [ ] API å¯è®¿é—®ï¼ˆcurl http://localhost:3000/api/notesï¼‰

---

## ğŸš€ ä¸‹ä¸€æ­¥

é…ç½®å®Œæˆåï¼Œè¯·ï¼š

1. æ›´æ–° iOS åº”ç”¨ä¸­çš„ç”Ÿäº§ç¯å¢ƒ API åœ°å€
2. æµ‹è¯•æ‰€æœ‰åŠŸèƒ½
3. éƒ¨ç½²åˆ°ç”Ÿäº§æœåŠ¡å™¨

---

**è¯¦ç»†éƒ¨ç½²æŒ‡å—è¯·æŸ¥çœ‹ï¼š`README-DEPLOY.md`**

