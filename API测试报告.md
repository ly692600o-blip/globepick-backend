# API æµ‹è¯•æŠ¥å‘Š

**æµ‹è¯•æ—¶é—´**: 2025-12-07  
**æµ‹è¯•ç¯å¢ƒ**: Railway ç”Ÿäº§ç¯å¢ƒ  
**API åœ°å€**: https://globepick-backend-production.up.railway.app/api

## ğŸ“Š æµ‹è¯•ç»“æœæ€»è§ˆ

- **æ€»æµ‹è¯•æ•°**: 14
- **é€šè¿‡**: 14 âœ…
- **å¤±è´¥**: 0 âŒ
- **é€šè¿‡ç‡**: 100%

## âœ… æµ‹è¯•è¯¦æƒ…

### 1. å¥åº·æ£€æŸ¥
- **ç«¯ç‚¹**: `GET /health`
- **çŠ¶æ€ç **: 200 âœ…
- **ç»“æœ**: 
  ```json
  {
    "status": "ok",
    "message": "GlobePick API è¿è¡Œæ­£å¸¸",
    "mongodb": "connected",
    "timestamp": "2025-12-07T08:19:49.836Z",
    "uptime": 632.59762406
  }
  ```
- **è¯´æ˜**: æœåŠ¡å™¨å’Œæ•°æ®åº“è¿æ¥æ­£å¸¸

### 2. è·å–å¸‚é›†å•†å“åˆ—è¡¨ï¼ˆåŸºç¡€ï¼‰
- **ç«¯ç‚¹**: `GET /api/marketplace/items`
- **çŠ¶æ€ç **: 200 âœ…
- **ç»“æœ**: 
  ```json
  {
    "items": [],
    "total": 0,
    "page": 1,
    "limit": 20,
    "totalPages": 0
  }
  ```
- **è¯´æ˜**: API æ­£å¸¸å·¥ä½œï¼Œç›®å‰æ²¡æœ‰å•†å“æ•°æ®ï¼ˆæ­£å¸¸ï¼‰

### 3. æœç´¢å•†å“ï¼ˆå…³é”®è¯ï¼šiPhoneï¼‰
- **ç«¯ç‚¹**: `GET /api/marketplace/items/search?q=iPhone`
- **çŠ¶æ€ç **: 200 âœ…
- **ç»“æœ**: æ­£ç¡®çš„ JSON æ ¼å¼
- **è¯´æ˜**: æœç´¢åŠŸèƒ½æ­£å¸¸å·¥ä½œï¼Œè·¯ç”±é¡ºåºé—®é¢˜å·²ä¿®å¤

### 4. æœç´¢å•†å“ï¼ˆå…³é”®è¯ï¼štestï¼‰
- **ç«¯ç‚¹**: `GET /api/marketplace/items/search?q=test`
- **çŠ¶æ€ç **: 200 âœ…
- **ç»“æœ**: æ­£ç¡®çš„ JSON æ ¼å¼
- **è¯´æ˜**: æœç´¢åŠŸèƒ½æ­£å¸¸

### 5. å•†å“åˆ—è¡¨ - åˆ†é¡µ
- **ç«¯ç‚¹**: `GET /api/marketplace/items?page=1&limit=10`
- **çŠ¶æ€ç **: 200 âœ…
- **ç»“æœ**: åˆ†é¡µå‚æ•°æ­£å¸¸å·¥ä½œ
- **è¯´æ˜**: limit å‚æ•°æ­£ç¡®åº”ç”¨

### 6. å•†å“åˆ—è¡¨ - åˆ†ç±»ç­›é€‰
- **ç«¯ç‚¹**: `GET /api/marketplace/items?category=electronics`
- **çŠ¶æ€ç **: 200 âœ…
- **ç»“æœ**: ç­›é€‰å‚æ•°æ­£å¸¸å·¥ä½œ
- **è¯´æ˜**: category å‚æ•°æ­£ç¡®åº”ç”¨

### 7. å•†å“åˆ—è¡¨ - ä»·æ ¼èŒƒå›´ç­›é€‰
- **ç«¯ç‚¹**: `GET /api/marketplace/items?minPrice=100&maxPrice=1000`
- **çŠ¶æ€ç **: 200 âœ…
- **ç»“æœ**: ä»·æ ¼ç­›é€‰æ­£å¸¸å·¥ä½œ
- **è¯´æ˜**: minPrice å’Œ maxPrice å‚æ•°æ­£ç¡®åº”ç”¨

### 8. å•†å“åˆ—è¡¨ - æ’åº
- **ç«¯ç‚¹**: `GET /api/marketplace/items?sort=price&order=asc`
- **çŠ¶æ€ç **: 200 âœ…
- **ç»“æœ**: æ’åºåŠŸèƒ½æ­£å¸¸å·¥ä½œ
- **è¯´æ˜**: sort å’Œ order å‚æ•°æ­£ç¡®åº”ç”¨

### 9. å•†å“åˆ—è¡¨ - ç»„åˆå‚æ•°
- **ç«¯ç‚¹**: `GET /api/marketplace/items?category=electronics&minPrice=100&maxPrice=5000&sort=price&order=desc&page=1&limit=5`
- **çŠ¶æ€ç **: 200 âœ…
- **ç»“æœ**: æ‰€æœ‰å‚æ•°ç»„åˆæ­£å¸¸å·¥ä½œ
- **è¯´æ˜**: å¤šä¸ªæŸ¥è¯¢å‚æ•°å¯ä»¥åŒæ—¶ä½¿ç”¨

### 10. è·å–å•†å“è¯¦æƒ…ï¼ˆæ— æ•ˆIDï¼‰
- **ç«¯ç‚¹**: `GET /api/marketplace/items/507f1f77bcf86cd799439011`
- **çŠ¶æ€ç **: 404 âœ…
- **ç»“æœ**: 
  ```json
  {
    "error": "å•†å“ä¸å­˜åœ¨"
  }
  ```
- **è¯´æ˜**: é”™è¯¯å¤„ç†æœºåˆ¶æ­£å¸¸å·¥ä½œ

### 11. å¸‚é›†è®¢å•åˆ—è¡¨ï¼ˆæœªæˆæƒï¼‰
- **ç«¯ç‚¹**: `GET /api/marketplace/orders`
- **çŠ¶æ€ç **: 401 âœ…
- **ç»“æœ**: 
  ```json
  {
    "error": "æœªæä¾›è®¤è¯ token"
  }
  ```
- **è¯´æ˜**: è®¤è¯æœºåˆ¶æ­£å¸¸å·¥ä½œ

### 12. åˆ›å»ºå•†å“ï¼ˆæœªæˆæƒï¼‰
- **ç«¯ç‚¹**: `POST /api/marketplace/items`
- **çŠ¶æ€ç **: 401 âœ…
- **ç»“æœ**: 
  ```json
  {
    "error": "æœªæä¾›è®¤è¯ token"
  }
  ```
- **è¯´æ˜**: è®¤è¯æœºåˆ¶æ­£å¸¸å·¥ä½œ

### 13. ä»£è´­å•†å“åˆ—è¡¨ï¼ˆå¯¹æ¯”æµ‹è¯•ï¼‰
- **ç«¯ç‚¹**: `GET /api/products?page=1&limit=5`
- **çŠ¶æ€ç **: 200 âœ…
- **ç»“æœ**: æ­£ç¡®çš„ JSON æ ¼å¼
- **è¯´æ˜**: ä»£è´­ API æ­£å¸¸å·¥ä½œï¼Œç”¨äºå¯¹æ¯”

### 14. ä»£è´­è®¢å•åˆ—è¡¨ï¼ˆæœªæˆæƒï¼‰
- **ç«¯ç‚¹**: `GET /api/orders/buyer`
- **çŠ¶æ€ç **: 401 âœ…
- **ç»“æœ**: 
  ```json
  {
    "error": "æœªæä¾›è®¤è¯ token"
  }
  ```
- **è¯´æ˜**: è®¤è¯æœºåˆ¶æ­£å¸¸å·¥ä½œ

## ğŸ¯ åŠŸèƒ½éªŒè¯

### âœ… åŸºç¡€åŠŸèƒ½
- [x] å¥åº·æ£€æŸ¥æ­£å¸¸
- [x] å•†å“åˆ—è¡¨ API æ­£å¸¸
- [x] æœç´¢åŠŸèƒ½æ­£å¸¸
- [x] è·¯ç”±é¡ºåºæ­£ç¡®

### âœ… æŸ¥è¯¢åŠŸèƒ½
- [x] åˆ†é¡µåŠŸèƒ½æ­£å¸¸
- [x] åˆ†ç±»ç­›é€‰æ­£å¸¸
- [x] ä»·æ ¼ç­›é€‰æ­£å¸¸
- [x] æ’åºåŠŸèƒ½æ­£å¸¸
- [x] ç»„åˆæŸ¥è¯¢æ­£å¸¸

### âœ… é”™è¯¯å¤„ç†
- [x] 404 é”™è¯¯å¤„ç†æ­£ç¡®
- [x] 401 è®¤è¯æ£€æŸ¥æ­£ç¡®
- [x] é”™è¯¯ä¿¡æ¯æ ¼å¼æ­£ç¡®

### âœ… å®‰å…¨æ€§
- [x] è®¤è¯æœºåˆ¶æ­£å¸¸å·¥ä½œ
- [x] æœªæˆæƒè¯·æ±‚æ­£ç¡®æ‹¦æˆª
- [x] é”™è¯¯ä¿¡æ¯ä¸æ³„éœ²æ•æ„Ÿä¿¡æ¯

## ğŸ“ æµ‹è¯•å‘½ä»¤

æ‰€æœ‰æµ‹è¯•ä½¿ç”¨çš„ curl å‘½ä»¤ï¼š

```bash
# 1. å¥åº·æ£€æŸ¥
curl https://globepick-backend-production.up.railway.app/health

# 2. å•†å“åˆ—è¡¨
curl https://globepick-backend-production.up.railway.app/api/marketplace/items

# 3. æœç´¢å•†å“
curl 'https://globepick-backend-production.up.railway.app/api/marketplace/items/search?q=iPhone'

# 4. åˆ†é¡µæŸ¥è¯¢
curl 'https://globepick-backend-production.up.railway.app/api/marketplace/items?page=1&limit=10'

# 5. åˆ†ç±»ç­›é€‰
curl 'https://globepick-backend-production.up.railway.app/api/marketplace/items?category=electronics'

# 6. ä»·æ ¼ç­›é€‰
curl 'https://globepick-backend-production.up.railway.app/api/marketplace/items?minPrice=100&maxPrice=1000'

# 7. æ’åº
curl 'https://globepick-backend-production.up.railway.app/api/marketplace/items?sort=price&order=asc'

# 8. ç»„åˆæŸ¥è¯¢
curl 'https://globepick-backend-production.up.railway.app/api/marketplace/items?category=electronics&minPrice=100&maxPrice=5000&sort=price&order=desc&page=1&limit=5'
```

## ğŸ’¡ è¯´æ˜

1. **ç©ºæ•°ç»„ []**: è¿™æ˜¯æ­£å¸¸çš„ï¼Œè¡¨ç¤ºæ•°æ®åº“ä¸­æ²¡æœ‰æ•°æ®ã€‚å¯ä»¥é€šè¿‡å‰ç«¯åˆ›å»ºå•†å“æ¥å¡«å……æ•°æ®ã€‚

2. **401 é”™è¯¯**: è¿™æ˜¯æ­£å¸¸çš„ï¼Œè¡¨ç¤ºè®¤è¯æœºåˆ¶æ­£å¸¸å·¥ä½œã€‚éœ€è¦å…ˆç™»å½•è·å– token æ‰èƒ½è®¿é—®å—ä¿æŠ¤çš„ç«¯ç‚¹ã€‚

3. **404 é”™è¯¯**: è¿™æ˜¯æ­£å¸¸çš„ï¼Œè¡¨ç¤ºé”™è¯¯å¤„ç†æœºåˆ¶æ­£å¸¸å·¥ä½œã€‚æ— æ•ˆçš„ ID ä¼šè¿”å›æ­£ç¡®çš„é”™è¯¯ä¿¡æ¯ã€‚

## âœ… ç»“è®º

**æ‰€æœ‰ API ç«¯ç‚¹æµ‹è¯•é€šè¿‡ï¼ç³»ç»Ÿè¿è¡Œæ­£å¸¸ï¼**

- âœ… æ‰€æœ‰å…¬å¼€ API ç«¯ç‚¹æ­£å¸¸å·¥ä½œ
- âœ… æ‰€æœ‰æŸ¥è¯¢å‚æ•°æ­£å¸¸å·¥ä½œ
- âœ… é”™è¯¯å¤„ç†æœºåˆ¶å®Œå–„
- âœ… è®¤è¯æœºåˆ¶æ­£å¸¸å·¥ä½œ
- âœ… è·¯ç”±é¡ºåºé—®é¢˜å·²ä¿®å¤
- âœ… JSON å“åº”æ ¼å¼æ­£ç¡®

ç³»ç»Ÿå·²å‡†å¤‡å¥½æŠ•å…¥ä½¿ç”¨ï¼

