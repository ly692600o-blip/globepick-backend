# Railway éƒ¨ç½²æŒ‡å—

## ğŸ“¦ éƒ¨ç½²å¸‚é›†åŠŸèƒ½åˆ° Railway

### âœ… å·²åˆ›å»ºçš„æ–‡ä»¶

1. **æ•°æ®æ¨¡å‹ï¼š**
   - `models/MarketplaceItem.js` - å¸‚é›†å•†å“æ¨¡å‹
   - `models/MarketplaceOrder.js` - å¸‚é›†è®¢å•æ¨¡å‹

2. **è·¯ç”±ï¼š**
   - `routes/marketplace-items.js` - å¸‚é›†å•†å“è·¯ç”±
   - `routes/marketplace-orders.js` - å¸‚é›†è®¢å•è·¯ç”±

3. **å·²æ›´æ–°ï¼š**
   - `server.js` - å·²æ³¨å†Œæ–°è·¯ç”±

### ğŸš€ éƒ¨ç½²æ–¹æ³•

#### æ–¹æ³• 1: é€šè¿‡ Railway CLIï¼ˆæ¨èï¼‰

```bash
# 1. å®‰è£… Railway CLI
npm i -g @railway/cli

# 2. ç™»å½• Railway
railway login

# 3. è¿›å…¥ backend ç›®å½•
cd backend

# 4. åˆå§‹åŒ– Railway é¡¹ç›®ï¼ˆå¦‚æœè¿˜æ²¡æœ‰ï¼‰
railway init

# 5. éƒ¨ç½²
railway up
```

#### æ–¹æ³• 2: é€šè¿‡ GitHub è‡ªåŠ¨éƒ¨ç½²

```bash
# 1. åœ¨ backend ç›®å½•åˆå§‹åŒ– Gitï¼ˆå¦‚æœè¿˜æ²¡æœ‰ï¼‰
cd backend
git init
git add .
git commit -m "feat: æ·»åŠ å¸‚é›†è®¢å•å’Œå•†å“åŠŸèƒ½"

# 2. åœ¨ GitHub åˆ›å»ºæ–°ä»“åº“ï¼ˆå¦‚æœè¿˜æ²¡æœ‰ï¼‰
# è®¿é—® https://github.com/new åˆ›å»ºä»“åº“

# 3. æ·»åŠ è¿œç¨‹ä»“åº“å¹¶æ¨é€
git remote add origin <ä½ çš„GitHubä»“åº“URL>
git branch -M main
git push -u origin main

# 4. åœ¨ Railway ä¸­ï¼š
#    - é€‰æ‹© "Deploy from GitHub"
#    - è¿æ¥ä½ çš„ GitHub ä»“åº“
#    - Railway ä¼šè‡ªåŠ¨æ£€æµ‹å¹¶éƒ¨ç½²
```

#### æ–¹æ³• 3: é€šè¿‡ Railway Web ç•Œé¢

1. ç™»å½• Railway: https://railway.app
2. é€‰æ‹©ä½ çš„é¡¹ç›®
3. ç‚¹å‡» "New" â†’ "GitHub Repo"
4. é€‰æ‹©ä½ çš„ä»“åº“
5. Railway ä¼šè‡ªåŠ¨éƒ¨ç½²

### ğŸ“‹ éƒ¨ç½²æ£€æŸ¥æ¸…å•

- [ ] ç¡®è®¤æ‰€æœ‰æ–°æ–‡ä»¶å·²åˆ›å»º
- [ ] ç¡®è®¤ `server.js` å·²æ³¨å†Œæ–°è·¯ç”±
- [ ] ç¡®è®¤ MongoDB è¿æ¥æ­£å¸¸
- [ ] ç¡®è®¤ç¯å¢ƒå˜é‡å·²é…ç½®ï¼ˆMONGODB_URI ç­‰ï¼‰
- [ ] æµ‹è¯•å¥åº·æ£€æŸ¥ç«¯ç‚¹ï¼š`/health`

### ğŸ” éƒ¨ç½²åéªŒè¯

éƒ¨ç½²æˆåŠŸåï¼Œæµ‹è¯•ä»¥ä¸‹ç«¯ç‚¹ï¼š

**å¸‚é›†å•†å“ï¼š**
```bash
# è·å–å•†å“åˆ—è¡¨
curl https://globepick-backend-production.up.railway.app/api/marketplace/items

# æœç´¢å•†å“
curl https://globepick-backend-production.up.railway.app/api/marketplace/items/search?q=iPhone
```

**å¸‚é›†è®¢å•ï¼š**
```bash
# è·å–è®¢å•åˆ—è¡¨ï¼ˆéœ€è¦è®¤è¯ï¼‰
curl -H "Authorization: Bearer <token>" \
  https://globepick-backend-production.up.railway.app/api/marketplace/orders
```

### âš ï¸ æ³¨æ„äº‹é¡¹

1. **MongoDB è¿æ¥ï¼š** ç¡®ä¿ Railway ç¯å¢ƒå˜é‡ä¸­é…ç½®äº† `MONGODB_URI`
2. **ç«¯å£ï¼š** Railway ä¼šè‡ªåŠ¨åˆ†é…ç«¯å£ï¼Œä½¿ç”¨ `PORT` ç¯å¢ƒå˜é‡
3. **å¥åº·æ£€æŸ¥ï¼š** Railway ä¼šæ£€æŸ¥ `/health` ç«¯ç‚¹ï¼Œç¡®ä¿è¿”å› 200
4. **æ—¥å¿—ï¼š** éƒ¨ç½²åæŸ¥çœ‹ Railway æ—¥å¿—ç¡®è®¤æ²¡æœ‰é”™è¯¯

### ğŸ› å¸¸è§é—®é¢˜

**é—®é¢˜ï¼šéƒ¨ç½²å¤±è´¥**
- æ£€æŸ¥ `package.json` ä¸­çš„ä¾èµ–æ˜¯å¦å®Œæ•´
- æ£€æŸ¥ MongoDB è¿æ¥å­—ç¬¦ä¸²æ˜¯å¦æ­£ç¡®
- æŸ¥çœ‹ Railway æ—¥å¿—ä¸­çš„é”™è¯¯ä¿¡æ¯

**é—®é¢˜ï¼šAPI è¿”å› 404**
- ç¡®è®¤ `server.js` ä¸­å·²æ³¨å†Œæ–°è·¯ç”±
- ç¡®è®¤è·¯ç”±è·¯å¾„æ­£ç¡®ï¼ˆ`/api/marketplace/items` å’Œ `/api/marketplace/orders`ï¼‰

**é—®é¢˜ï¼šæ•°æ®åº“è¿æ¥å¤±è´¥**
- æ£€æŸ¥ `MONGODB_URI` ç¯å¢ƒå˜é‡
- ç¡®è®¤ MongoDB Atlas IP ç™½åå•åŒ…å« Railway çš„ IP

### ğŸ“ éœ€è¦å¸®åŠ©ï¼Ÿ

å¦‚æœé‡åˆ°é—®é¢˜ï¼Œè¯·æ£€æŸ¥ï¼š
1. Railway éƒ¨ç½²æ—¥å¿—
2. MongoDB Atlas è¿æ¥æ—¥å¿—
3. æœåŠ¡å™¨æ§åˆ¶å°è¾“å‡º

